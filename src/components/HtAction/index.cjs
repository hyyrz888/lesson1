"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("vue"),t=require("@htfed/utils"),o=require("@vueuse/core"),n=require("@popperjs/core"),a={left:"right",right:"left",bottom:"top",top:"bottom"};function i(e){return e.replace(/left|right|bottom|top/g,(function(e){return a[e]}))}var r="top",l="bottom",d="right",c="left",s="auto",p=[r,l,d,c],f="start",u="end",m="clippingParents",h="viewport",v="popper",y="reference",g=p.reduce((function(e,t){return e.concat([t+"-"+f,t+"-"+u])}),[]),b=[].concat(p,[s]).reduce((function(e,t){return e.concat([t,t+"-"+f,t+"-"+u])}),[]);function w(e){return e.split("-")[0]}var x={start:"end",end:"start"};function k(e){return e.replace(/start|end/g,(function(e){return x[e]}))}function C(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function B(e){return e instanceof C(e).Element||e instanceof Element}function V(e){return e instanceof C(e).HTMLElement||e instanceof HTMLElement}function S(e){return"undefined"!=typeof ShadowRoot&&(e instanceof C(e).ShadowRoot||e instanceof ShadowRoot)}function N(e){return((B(e)?e.ownerDocument:e.document)||window.document).documentElement}var O=Math.max,A=Math.min,E=Math.round;function z(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function H(){return!/^((?!chrome|android).)*safari/i.test(z())}function M(e,t,o){void 0===t&&(t=!1),void 0===o&&(o=!1);var n=e.getBoundingClientRect(),a=1,i=1;t&&V(e)&&(a=e.offsetWidth>0&&E(n.width)/e.offsetWidth||1,i=e.offsetHeight>0&&E(n.height)/e.offsetHeight||1);var r=(B(e)?C(e):window).visualViewport,l=!H()&&o,d=(n.left+(l&&r?r.offsetLeft:0))/a,c=(n.top+(l&&r?r.offsetTop:0))/i,s=n.width/a,p=n.height/i;return{width:s,height:p,top:c,right:d+s,bottom:c+p,left:d,x:d,y:c}}function T(e){var t=C(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function W(e){return M(N(e)).left+T(e).scrollLeft}function L(e){return C(e).getComputedStyle(e)}function $(e){return e?(e.nodeName||"").toLowerCase():null}function D(e){return"html"===$(e)?e:e.assignedSlot||e.parentNode||(S(e)?e.host:null)||N(e)}function _(e){var t=L(e),o=t.overflow,n=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(o+a+n)}function P(e){return["html","body","#document"].indexOf($(e))>=0?e.ownerDocument.body:V(e)&&_(e)?e:P(D(e))}function R(e,t){var o;void 0===t&&(t=[]);var n=P(e),a=n===(null==(o=e.ownerDocument)?void 0:o.body),i=C(n),r=a?[i].concat(i.visualViewport||[],_(n)?n:[]):n,l=t.concat(r);return a?l:l.concat(R(D(r)))}function j(e){return["table","td","th"].indexOf($(e))>=0}function I(e){return V(e)&&"fixed"!==L(e).position?e.offsetParent:null}function q(e){for(var t=C(e),o=I(e);o&&j(o)&&"static"===L(o).position;)o=I(o);return o&&("html"===$(o)||"body"===$(o)&&"static"===L(o).position)?t:o||function(e){var t=/firefox/i.test(z());if(/Trident/i.test(z())&&V(e)&&"fixed"===L(e).position)return null;var o=D(e);for(S(o)&&(o=o.host);V(o)&&["html","body"].indexOf($(o))<0;){var n=L(o);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return o;o=o.parentNode}return null}(e)||t}function F(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function X(e,t,o){return t===h?F(function(e,t){var o=C(e),n=N(e),a=o.visualViewport,i=n.clientWidth,r=n.clientHeight,l=0,d=0;if(a){i=a.width,r=a.height;var c=H();(c||!c&&"fixed"===t)&&(l=a.offsetLeft,d=a.offsetTop)}return{width:i,height:r,x:l+W(e),y:d}}(e,o)):B(t)?function(e,t){var o=M(e,!1,"fixed"===t);return o.top=o.top+e.clientTop,o.left=o.left+e.clientLeft,o.bottom=o.top+e.clientHeight,o.right=o.left+e.clientWidth,o.width=e.clientWidth,o.height=e.clientHeight,o.x=o.left,o.y=o.top,o}(t,o):F(function(e){var t,o=N(e),n=T(e),a=null==(t=e.ownerDocument)?void 0:t.body,i=O(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),r=O(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-n.scrollLeft+W(e),d=-n.scrollTop;return"rtl"===L(a||o).direction&&(l+=O(o.clientWidth,a?a.clientWidth:0)-i),{width:i,height:r,x:l,y:d}}(N(e)))}function Y(e){var t=R(D(e)),o=["absolute","fixed"].indexOf(L(e).position)>=0&&V(e)?q(e):e;return B(o)?t.filter((function(e){return B(e)&&function(e,t){var o=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(o&&S(o)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}(e,o)&&"body"!==$(e)})):[]}function G(e){return e.split("-")[1]}function J(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function K(e,t){void 0===t&&(t={});var o,n=t,a=n.placement,i=void 0===a?e.placement:a,s=n.strategy,g=void 0===s?e.strategy:s,b=n.boundary,x=void 0===b?m:b,k=n.rootBoundary,C=void 0===k?h:k,V=n.elementContext,S=void 0===V?v:V,E=n.altBoundary,z=void 0!==E&&E,H=n.padding,T=void 0===H?0:H,W=function(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}("number"!=typeof T?T:(o=T,p.reduce((function(e,t){return e[t]=o,e}),{}))),L=S===v?y:v,$=e.rects.popper,D=e.elements[z?L:S],_=function(e,t,o,n){var a="clippingParents"===t?Y(e):[].concat(t),i=[].concat(a,[o]),r=i[0],l=i.reduce((function(t,o){var a=X(e,o,n);return t.top=O(a.top,t.top),t.right=A(a.right,t.right),t.bottom=A(a.bottom,t.bottom),t.left=O(a.left,t.left),t}),X(e,r,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}(B(D)?D:D.contextElement||N(e.elements.popper),x,C,g),P=M(e.elements.reference),R=function(e){var t,o=e.reference,n=e.element,a=e.placement,i=a?w(a):null,s=a?G(a):null,p=o.x+o.width/2-n.width/2,m=o.y+o.height/2-n.height/2;switch(i){case r:t={x:p,y:o.y-n.height};break;case l:t={x:p,y:o.y+o.height};break;case d:t={x:o.x+o.width,y:m};break;case c:t={x:o.x-n.width,y:m};break;default:t={x:o.x,y:o.y}}var h=i?J(i):null;if(null!=h){var v="y"===h?"height":"width";switch(s){case f:t[h]=t[h]-(o[v]/2-n[v]/2);break;case u:t[h]=t[h]+(o[v]/2-n[v]/2)}}return t}({reference:P,element:$,strategy:"absolute",placement:i}),j=F(Object.assign({},$,R)),I=S===v?j:P,q={top:_.top-I.top+W.top,bottom:I.bottom-_.bottom+W.bottom,left:_.left-I.left+W.left,right:I.right-_.right+W.right},K=e.modifiersData.offset;if(S===v&&K){var Q=K[i];Object.keys(q).forEach((function(e){var t=[d,l].indexOf(e)>=0?1:-1,o=[r,l].indexOf(e)>=0?"y":"x";q[e]+=Q[o]*t}))}return q}function Q(e,t){void 0===t&&(t={});var o=t,n=o.placement,a=o.boundary,i=o.rootBoundary,r=o.padding,l=o.flipVariations,d=o.allowedAutoPlacements,c=void 0===d?b:d,s=G(n),f=s?l?g:g.filter((function(e){return G(e)===s})):p,u=f.filter((function(e){return c.indexOf(e)>=0}));0===u.length&&(u=f);var m=u.reduce((function(t,o){return t[o]=K(e,{placement:o,boundary:a,rootBoundary:i,padding:r})[w(o)],t}),{});return Object.keys(m).sort((function(e,t){return m[e]-m[t]}))}var U={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,o=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var a=o.mainAxis,p=void 0===a||a,u=o.altAxis,m=void 0===u||u,h=o.fallbackPlacements,v=o.padding,y=o.boundary,g=o.rootBoundary,b=o.altBoundary,x=o.flipVariations,C=void 0===x||x,B=o.allowedAutoPlacements,V=t.options.placement,S=w(V),N=h||(S===V||!C?[i(V)]:function(e){if(w(e)===s)return[];var t=i(e);return[k(e),t,k(t)]}(V)),O=[V].concat(N).reduce((function(e,o){return e.concat(w(o)===s?Q(t,{placement:o,boundary:y,rootBoundary:g,padding:v,flipVariations:C,allowedAutoPlacements:B}):o)}),[]),A=t.rects.reference,E=t.rects.popper,z=new Map,H=!0,M=O[0],T=0;T<O.length;T++){var W=O[T],L=w(W),$=G(W)===f,D=[r,l].indexOf(L)>=0,_=D?"width":"height",P=K(t,{placement:W,boundary:y,rootBoundary:g,altBoundary:b,padding:v}),R=D?$?d:c:$?l:r;A[_]>E[_]&&(R=i(R));var j=i(R),I=[];if(p&&I.push(P[L]<=0),m&&I.push(P[R]<=0,P[j]<=0),I.every((function(e){return e}))){M=W,H=!1;break}z.set(W,I)}if(H)for(var q=function(e){var t=O.find((function(t){var o=z.get(t);if(o)return o.slice(0,e).every((function(e){return e}))}));if(t)return M=t,"break"},F=C?3:1;F>0;F--){if("break"===q(F))break}t.placement!==M&&(t.modifiersData[n]._skip=!0,t.placement=M,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Z(e,t,o){return O(e,A(t,o))}var ee={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,o=e.options,n=e.name,a=o.mainAxis,i=void 0===a||a,s=o.altAxis,p=void 0!==s&&s,u=o.boundary,m=o.rootBoundary,h=o.altBoundary,v=o.padding,y=o.tether,g=void 0===y||y,b=o.tetherOffset,x=void 0===b?0:b,k=K(t,{boundary:u,rootBoundary:m,padding:v,altBoundary:h}),C=w(t.placement),B=G(t.placement),V=!B,S=J(C),N="x"===S?"y":"x",E=t.modifiersData.popperOffsets,z=t.rects.reference,H=t.rects.popper,T="function"==typeof x?x(Object.assign({},t.rects,{placement:t.placement})):x,W="number"==typeof T?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(E){if(i){var D,_="y"===S?r:c,P="y"===S?l:d,R="y"===S?"height":"width",j=E[S],I=j+k[_],F=j-k[P],X=g?-H[R]/2:0,Y=B===f?z[R]:H[R],Q=B===f?-H[R]:-z[R],U=t.elements.arrow,ee=g&&U?(ue=M(fe=U),me=fe.offsetWidth,he=fe.offsetHeight,Math.abs(ue.width-me)<=1&&(me=ue.width),Math.abs(ue.height-he)<=1&&(he=ue.height),{x:fe.offsetLeft,y:fe.offsetTop,width:me,height:he}):{width:0,height:0},te=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},oe=te[_],ne=te[P],ae=Z(0,z[R],ee[R]),ie=V?z[R]/2-X-ae-oe-W.mainAxis:Y-ae-oe-W.mainAxis,re=V?-z[R]/2+X+ae+ne+W.mainAxis:Q+ae+ne+W.mainAxis,le=t.elements.arrow&&q(t.elements.arrow),de=le?"y"===S?le.clientTop||0:le.clientLeft||0:0,ce=null!=(D=null==L?void 0:L[S])?D:0,se=j+re-ce,pe=Z(g?A(I,j+ie-ce-de):I,j,g?O(F,se):F);E[S]=pe,$[S]=pe-j}var fe,ue,me,he;if(p){var ve,ye="x"===S?r:c,ge="x"===S?l:d,be=E[N],we="y"===N?"height":"width",xe=be+k[ye],ke=be-k[ge],Ce=-1!==[r,c].indexOf(C),Be=null!=(ve=null==L?void 0:L[N])?ve:0,Ve=Ce?xe:be-z[we]-H[we]-Be+W.altAxis,Se=Ce?be+z[we]+H[we]-Be-W.altAxis:ke,Ne=g&&Ce?function(e,t,o){var n=Z(e,t,o);return n>o?o:n}(Ve,be,Se):Z(g?Ve:xe,be,g?Se:ke);E[N]=Ne,$[N]=Ne-be}t.modifiersData[n]=$}},requiresIfExists:["offset"]},te=e.defineComponent({name:"HtPopover",props:{visible:{type:Boolean,default:!1},data:{type:Object,required:!1,default:()=>({})}},setup(a,{emit:i}){const{proxy:r}=e.getCurrentInstance()||{},l=e.ref(),d=e.ref(),c=e.ref(),s=e.ref(),p=e.ref(null),f=r?.$options?.extendProps?.isTooltip,u=e.ref(a.visible),m=String(a.data?.width||"").indexOf("%")>-1,{trigger:h="hover",placement:v="bottom",hideArrow:y,offset:g}=a.data||{},b=6+(y?0:4),w=Array.isArray(g)?g:[g||0,g||0],x=()=>{if(!m)return;const e=l.value?.clientWidth;e&&c.value&&(c.value.style.minWidth=e*parseInt(a.data.width||"100",10)/100+"px",c.value.style.maxWidth=t.dom.windowWidth-50+"px")},k=e=>{a.data.disabled||u.value===e||(u.value=e,e?(d.value?.setAttribute("data-show",""),p.value?.setOptions((e=>({...e,modifiers:[...e.modifiers,{name:"eventListeners",enabled:!0}]}))),p.value?.update(),x()):(d.value?.removeAttribute("data-show"),p.value?.setOptions((e=>({...e,modifiers:[...e.modifiers,{name:"eventListeners",enabled:!1}]}))),p.value?.update()))};return e.watch(u,(e=>{i("update:visible",e),i("on-visible-change",{show:e})})),e.watch((()=>a.visible),(e=>{k(e)}),{immediate:!0}),e.onMounted((()=>{l.value&&d.value&&(p.value=n.createPopper(l.value,d.value,{strategy:"absolute",placement:v,modifiers:[U,ee,{name:"offset",options:{offset:[0,0]}},{name:"eventListeners",enabled:!1}]})),o.onClickOutside(d.value,(()=>{k(!1)}),{ignore:[l.value]})})),{entryRef:l,popoverRef:d,popoverBoxRef:c,popoverArrowRef:s,popperInstance:p,isTooltip:f,show:u,padding:b,offset:w,isFlexWidth:m,trigger:h,onSetPopperWidth:x,onVisibleChange:k}}});const oe={class:"ht-popover"},ne=["innerHTML"];te.render=function(t,o,n,a,i,r){return e.openBlock(),e.createElementBlock("div",oe,[e.createElementVNode("div",{ref:"entryRef",class:e.normalizeClass(""+(t.data.isBlock?"f-db":"f-dib")),onMouseenter:o[0]||(o[0]=e=>"hover"==t.trigger&&t.onVisibleChange(!0)),onMouseleave:o[1]||(o[1]=e=>"hover"==t.trigger&&t.onVisibleChange(!1)),onClick:o[2]||(o[2]=e.withModifiers((e=>"click"==t.trigger&&t.onVisibleChange(!t.show)),["stop"]))},[e.createCommentVNode(" 展示内容插槽 "),e.renderSlot(t.$slots,"default",{scope:"data"},(()=>[e.createTextVNode(e.toDisplayString(t.data.content),1)]))],34),(e.openBlock(),e.createBlock(e.Teleport,{to:"body"},[e.createElementVNode("div",{ref:"popoverRef",role:"tooltip",class:e.normalizeClass(["ht-popover-popper",`ht-popover-popper-${t.trigger}`,{"ht-popover-popper-tooltip":t.isTooltip}]),style:e.normalizeStyle({...t.data?.popperStyle||{},width:t.isFlexWidth?"auto":t.data?.width||"",maxWidth:t.isFlexWidth?"100%":"auto"===t.data?.width?"none":t.data?.width||"",padding:t.data.placement&&(t.data.placement?.indexOf?.("left")>-1||t.data.placement?.indexOf?.("right")>-1)?`0 ${t.padding}px`:`${t.padding}px 0`}),onMouseenter:o[3]||(o[3]=e=>"hover"==t.trigger&&t.onVisibleChange(!0)),onMouseleave:o[4]||(o[4]=e=>"hover"==t.trigger&&t.onVisibleChange(!1))},[e.createElementVNode("div",{ref:"popoverBoxRef",class:"ht-popover-popper-box f-pr",style:e.normalizeStyle(`transform: translate(${t.offset?.[0]||0}px, ${t.offset?.[1]||0}px)`)},[e.createCommentVNode(" 箭头 "),t.data.hideArrow?e.createCommentVNode("v-if",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[t.data.fixedPopperArrow?(e.openBlock(),e.createElementBlock("div",{key:0,class:"ht-popover-popper-arrow",ref:"popoverArrowRef",style:e.normalizeStyle(t.data.arrowStyle)},null,4)):(e.openBlock(),e.createElementBlock("div",{key:1,class:"ht-popover-popper-arrow",ref:"popoverArrowRef","data-popper-arrow":"",style:e.normalizeStyle(t.data.arrowStyle)},null,4))],64)),e.createCommentVNode(" 内容 "),e.createElementVNode("div",{class:"ht-popover-popper-content f-pr",style:e.normalizeStyle(t.data.contentStyle)},[e.createCommentVNode(" 弹出内容插槽 "),e.renderSlot(t.$slots,"popover",{scope:"data"},(()=>[e.createElementVNode("div",{innerHTML:t.data.popContent},null,8,ne)]))],4)],4)],38)]))])},te.__file="src/HtPopover/index.vue";var ae=e.defineComponent({...te,name:"HtTooltip",extendProps:{isTooltip:!0}});ae.__file="src/HtTooltip/index.vue",ae.install=e=>{e.component(ae.name,ae)};const ie=ae;var re=e.defineComponent({name:"HtIcon",props:{data:{type:Object,required:!0,default:()=>({name:""})}},setup:(e,{emit:t})=>({onClick:e=>{t("on-click",e)}})});re.render=function(t,o,n,a,i,r){return e.openBlock(),e.createElementBlock("div",{class:"ht-icon",onClick:o[0]||(o[0]=(...e)=>t.onClick&&t.onClick(...e))},[e.createElementVNode("i",{class:e.normalizeClass(`${t.data.name?.substring?.(0,t.data.name?.indexOf?.("-icon-")+5)} ${t.data.name}`),style:e.normalizeStyle(`${t.data.style};color:${t.data.color};font-size:${t.data.size}px`)},null,6),e.createElementVNode("span",{class:e.normalizeClass(["label",{"f-ml4":t.$slots.default||t.data.content}])},[e.createCommentVNode(" 默认内容插槽 "),e.renderSlot(t.$slots,"default",{},(()=>[e.createTextVNode(e.toDisplayString(t.data.content),1)]))],2)])},re.__file="src/HtIcon/index.vue",re.install=e=>{e.component(re.name,re)};const le=re,de=Symbol("form");var ce=e.defineComponent({name:"HtButton",components:{HtTooltip:ie,HtIcon:le},props:{data:{type:Object,required:!1,default:()=>({size:"medium",shape:"square",type:"info",appearance:"default"})}},setup(t,{emit:o}){const n=e.inject(de),a=e.computed((()=>t.data.disabled||!!n?.data.disabled));return{disabled:a,onClick:e=>{a.value||o("on-click",e)}}}});const se=["type","disabled"],pe={key:0,class:"f-dib f-mr4"},fe={key:1,class:"f-dib f-mr4"};ce.render=function(t,o,n,a,i,r){const l=e.resolveComponent("ht-icon"),d=e.resolveComponent("ht-tooltip");return e.openBlock(),e.createElementBlock("button",{class:e.normalizeClass(["ht-button",`ht-button-${t.data.size||"medium"}`,`ht-button-${t.data.shape||"square"}`,`ht-button-${t.data.type||"info"}`,`ht-button-${t.data.appearance||"default"}`,{"ht-button-disabled":t.disabled},"f-trans"]),type:t.data.nativeType||"button",style:e.normalizeStyle(t.data.style),disabled:t.disabled,onClick:o[0]||(o[0]=(...e)=>t.onClick&&t.onClick(...e))},[e.createCommentVNode(" 图标按钮 "),t.data.appearance&&t.data.appearance?.indexOf?.("icon")>-1?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[t.data.content&&t.data.icon||t.data.loading?(e.openBlock(),e.createBlock(d,{key:0,data:{popContent:t.data.content||"加载中",contentStyle:"white-space: nowrap"}},{default:e.withCtx((()=>[t.data.loading?(e.openBlock(),e.createBlock(l,{key:0,data:{name:"u-icon-loading"},onClick:e.withModifiers(t.onClick,["stop"])},null,8,["onClick"])):(e.openBlock(),e.createBlock(l,{key:1,data:{name:t.data.icon,style:t.data.iconStyle,color:t.data.iconColor,size:t.data.iconSize},onClick:e.withModifiers(t.onClick,["stop"])},null,8,["data","onClick"]))])),_:1},8,["data"])):t.data.icon?(e.openBlock(),e.createBlock(l,{key:1,data:{name:t.data.icon,style:t.data.iconStyle,color:t.data.iconColor,size:t.data.iconSize}},null,8,["data"])):e.createCommentVNode("v-if",!0),e.createCommentVNode(" 自定义按钮内容 "),e.renderSlot(t.$slots,"default")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createCommentVNode(" 非图标按钮 "),t.data.loading?(e.openBlock(),e.createElementBlock("div",pe,[e.createVNode(l,{data:{name:"u-icon-loading"}})])):t.data.icon?(e.openBlock(),e.createElementBlock("div",fe,[e.createVNode(l,{data:{name:t.data.icon,style:t.data.iconStyle,size:t.data.iconSize||14,color:t.data.iconColor}},null,8,["data"])])):e.createCommentVNode("v-if",!0),e.createCommentVNode(" 自定义按钮内容 "),e.renderSlot(t.$slots,"default",{},(()=>[e.createTextVNode(e.toDisplayString(t.data.content),1)]))],64))],14,se)},ce.__file="src/HtButton/index.vue",ce.install=e=>{e.component(ce.name,ce)};const ue=ce;te.install=e=>{e.component(te.name,te)};const me=te;var he=e.defineComponent({name:"HtAction",components:{HtButton:ue,HtPopover:me,HtIcon:le},props:{data:{type:Object,required:!0,default:()=>({list:[]})}},setup(o,{emit:n}){const a=e.ref(),i=e.computed((()=>{const{lineLimit:e,wrapWidth:n,showLine:i}=o.data;if(e)return e;let r=o.data?.list?.length;if(!n||n<=0)return r;const l=a.value?.children;if(!l||!l.length)return r;const{length:d}=l,c=i?25:12;let s=0;for(let e=0;e<d;e++){if(s+=~~t.dom.getClientWidth(l[e]),s>=n){r=e;break}s+=~~c}return r})),r=(e,t)=>{!o.data?.preventClick&&e.onClick&&e.onClick?.({action:e,index:t}),n("on-action",e,t)};return{actionRef:a,showMoreIndex:i,onChildAction:(e,t)=>{r(t?.item,t?.index)},onAction:r}}});const ve=["innerHTML"],ye=e.createElementVNode("span",null,"xxxx",-1),ge={class:"f-curp"};he.render=function(t,o,n,a,i,r){const l=e.resolveComponent("ht-select"),d=e.resolveComponent("ht-button"),c=e.resolveComponent("ht-icon"),s=e.resolveComponent("ht-popover");return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(`ht-action ht-action-${t.data.direction||"row"}`),ref:"actionRef"},[t.data.list?.length?e.createCommentVNode("v-if",!0):(e.openBlock(),e.createElementBlock("div",{key:0,class:"s-text3",innerHTML:t.data.emptyText},null,8,ve)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.data.list?.slice?.(0,t.showMoreIndex),((o,n)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:n,class:e.normalizeClass(["action-item",{"action-item-last":n===t.showMoreIndex-1},"f-trans"])},[e.createCommentVNode(" 方向为水平逆向时，行动点分割线 "),"row-reverse"!==t.data?.direction||t.data.list?.length<t.showMoreIndex&&n===t.data.list.length-1?e.createCommentVNode("v-if",!0):(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(["action-line",{"action-line-show":t.data.showLine}])},null,2)),e.createCommentVNode(" 行动点按钮插槽 "),e.renderSlot(t.$slots,"button",{detail:o},(()=>[o.children?.length?(e.openBlock(),e.createBlock(l,{key:0,data:{popupTitle:o.content,popupDescription:o.description,popupHideArrow:!1,popupWidth:"210px",popupPlacement:"bottom",options:o.children},onOnChange:t.onChildAction},{default:e.withCtx((()=>[ye])),_:2},1032,["data","onOnChange"])):(e.openBlock(),e.createBlock(d,{key:1,data:{size:o.size||t.data.size||"medium",shape:o.shape||t.data.shape||"square",type:o.btnType||t.data.btnType||"info",appearance:o.appearance||t.data.appearance||"default",disabled:o.disabled??t.data.disabled,style:o.style||t.data.style,iconStyle:o.iconStyle||t.data.iconStyle,icon:o.icon,iconSize:o.iconSize,content:o.content,loading:o.loading},onOnClick:e.withModifiers((e=>t.onAction(o,n)),["stop"])},null,8,["data","onOnClick"]))])),e.createCommentVNode(" 方向为水平正向时，行动点分割线 "),"row-reverse"===t.data?.direction||t.data.list?.length<t.showMoreIndex&&n===t.data.list.length-1?e.createCommentVNode("v-if",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(["action-line",{"action-line-show":t.data.showLine}])},null,2))],2)),[[e.vShow,!o.hide]]))),128)),t.data.list?.length>0&&t.showMoreIndex<t.data.list?.length?(e.openBlock(),e.createBlock(s,{key:1,data:{width:"auto",contentStyle:"padding: 4px 16px"}},{popover:e.withCtx((()=>[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.data.list.slice(t.showMoreIndex),((o,n)=>e.withDirectives((e.openBlock(),e.createElementBlock("div",{key:n,class:"ht-action-popper f-curp f-trans"},[e.createVNode(d,{data:{type:"primary",appearance:"text",size:"small",content:o.content,loading:o.loading,disabled:o.disabled,style:o.style||{}},onOnClick:e.withModifiers((e=>t.onAction(o,n)),["stop"])},null,8,["data","onOnClick"])])),[[e.vShow,!o.hide]]))),128))])),default:e.withCtx((()=>[e.createElementVNode("div",ge,[e.createCommentVNode(" 更多下拉按钮插槽 "),e.renderSlot(t.$slots,"more",{},(()=>[e.createVNode(c,{data:{name:"u-icon-more",size:12,color:"var(--color-primary)"}})]))])])),_:3})):e.createCommentVNode("v-if",!0)],2)},he.__file="src/HtAction/index.vue",he.install=e=>{e.component(he.name,he)};const be=he;exports.default=be;
